{% extends "leaves/base.html" %}
{% block title %}Approve / Reject Leave{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-7">
    <div class="card shadow-sm mb-3">
      <div class="card-header bg-secondary text-white">
        <h5 class="mb-0">Leave Details</h5>
      </div>
      <div class="card-body">
        <dl class="row mb-0">
          <dt class="col-sm-4">Employee</dt>
          <dd class="col-sm-8">{{ leave.employee }}</dd>

          <dt class="col-sm-4">Leave Type</dt>
          <dd class="col-sm-8">{{ leave.get_leave_type_display }}</dd>

          <dt class="col-sm-4">Reason</dt>
          <dd class="col-sm-8">{{ leave.reason }}</dd>

          <dt class="col-sm-4">From</dt>
          <dd class="col-sm-8">{{ leave.start_date }}</dd>

          <dt class="col-sm-4">To</dt>
          <dd class="col-sm-8">{{ leave.end_date }}</dd>

          <dt class="col-sm-4">Total Days</dt>
          <dd class="col-sm-8">{{ leave.total_days }}</dd>

          <dt class="col-sm-4">Current Status</dt>
          <dd class="col-sm-8">{{ leave.status|title }}</dd>
        </dl>
      </div>
    </div>

    <div class="card shadow-sm">
      <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Update Status</h5>
      </div>
      <div class="card-body">
        <form method="post">
          {% csrf_token %}
          <div class="mb-3">
            <label for="status" class="form-label">Status</label>
            <select id="status" name="status" class="form-select">
              <option value="pending" {% if leave.status == "pending" %}selected{% endif %}>Pending</option>
              <option value="approved" {% if leave.status == "approved" %}selected{% endif %}>Approved</option>
              <option value="rejected" {% if leave.status == "rejected" %}selected{% endif %}>Rejected</option>
            </select>
          </div>
          <div class="d-flex justify-content-between">
            <a href="{% url 'leaves:manager_dashboard' %}" class="btn btn-outline-secondary">
              Back
            </a>
            <button type="submit" class="btn btn-primary">
              Save
            </button>
          </div>
        </form>
      </div>
    </div>

  </div>
</div>
{% endblock %}
